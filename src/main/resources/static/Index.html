<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
	<title>CRUD</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
			crossorigin="anonymous">
	 
</head>

<body>

	<h1>Cadastro de Usuario </h1>
	
	<form action="" id="formCadastroUser">
		
			<div class="mb-3">
				<label for="id" class="form-label">ID</label>
				 <input type="text" class="form-control" id="id" readonly="readonly">
			</div>

			<div class="mb-3">
				<label for="nome" class="form-label">Nome do Usu√°rio</label> <input
					type="text" class="form-control" id="nome"
					placeholder="Informe o nome" required="required">
			</div>

			<div class="mb-3">
				<label for="idade" class="form-label">Idade</label> <input
					type="number" class="form-control" id="idade">
			</div>
	
	</form>
	<div id="butoesDeEntrada">

			<button type="button" class="btn btn-primary" onclick="salvarUsuario()">Salvar</button>
			<button type="button" class="btn btn-secondary" onclick="document.getElementById('formCadastroUser').reset();">Novo</button>

		</div>
	
	
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"
		integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
		crossorigin="anonymous"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" 
	crossorigin="anonymous">
	</script>
	
	<script  type="text/javascript">
		function salvarUsuario(){
		var id = $('#id').val();
		var nome = $('#nome').val();
		var idade = $('#idade').val();
		
		$.ajax({
			method : "POST",
			url : "salvar",
			data : JSON.stringify({
				id : id,
				nome : nome,
				idade : idade
			}),
			contentType : "application/json; charset=utf-8",
			success : function(response) {

				$("#id").val(response.id);
				alert("Salvo com Sucesso!");

			}
		}).fail(function(xhr, status, errorThrown) {

			alert("Erro ao Salvar: " + xhr.responseText);

		});
	}
	

</script>
</body>
</html>